CREATE TABLE `permission` (

)

---------- Work Tables ----------

CREATE TABLE `work` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
  title VARCHAR(255),
  description TEXT,
  adjustment FLOAT,
  colour CHAR(6),
  customer_id INT UNSIGNED NOT NULL,
  work_type_id INT(255),
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_time` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  start_datetime DATETIME NOT NULL,
  end_datetime DATETIME NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_repeat_time` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  start_datetime DATETIME NOT NULL,
  end_datetime DATETIME NOT NULL,
  repeat_meta VARCHAR(255),
  repeat_value INT,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_product` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
  work_id INT UNSIGNED NOT NULL,
  product_id INT UNSIGNED NOT NULL,
  quantity INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_employee` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  work_id INT UNSIGNED NOT NULL,
  employee_id INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)


CREATE TABLE `work_note` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  work_id INT UNSIGNED NOT NULL,
  title VARCHAR(255),
  description TEXT,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_type` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255),
  description TEXT,
  colour VARCHAR(6),
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `work_address` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  work_id INT UNSIGNED NOT NULL,
  address_id INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

---------- Employee ----------

CREATE TABLE `employee` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
  first_name VARCHAR(255),
  last_name VARCHAR(255),
  email VARCHAR(255),
  phone VARCHAR(11),
  employee_job VARCHAR(255),
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)
// need to add an employee_job database, and then add the id to employee

CREATE TABLE `password` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY, 
  password VARCHAR(255),
  employee_id INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `employee_session` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  employee_id INT UNSIGNED NOT NULL,
  token VARCHAR(16) NOT NULL,
  expiry DATETIME NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)



---------- Product Tables ----------

CREATE TABLE `product` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `product_type` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  product_id INT UNSIGNED NOT NULL,
  type VARCHAR(255),
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `product_price` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  product_id INT UNSIGNED NOT NULL,
  price FLOAT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE 'product_type' (

)



---------- Customer ----------


CREATE TABLE `customer` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255),
  first_name VARCHAR(255),
  last_name VARCHAR(255),
  email VARCHAR(255),
  mobile_phone VARCHAR(11),
  home_phone VARCHAR(11),
  billing_address_id INT,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP 
)

CREATE TABLE `customer_address` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  customer_id INT NOT NULL,
  address_id INT NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP 
)


CREATE TABLE `service` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  service_date DATE,
  customer_id INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP 
)

CREATE TABLE `sent_email` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  customer_id INT UNSIGNED NOT NULL,
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE `address` (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  line_1 VARCHAR(255),
  line_2 VARCHAR(255),
  postcode VARCHAR(255),
  city VARCHAR(255),
  modified DATETIME on update CURRENT_TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  created DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)